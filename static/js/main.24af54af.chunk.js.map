{"version":3,"sources":["Star.js","Jump.js","StarMapJumps.js","compositions/OrbitControls.js","compositions/Background.js","StarMap.js","StarMapSearch.js","SolarSystemDetails.js","classes/SolarSystem.js","App.js","index.js"],"names":["Star","_ref","solarSystem","onClick","isInvaded","securityColor","getColor","material","useMemo","THREE","wireframe","color","hasIncursion","opacity","onMeshClick","event","stopPropagation","boxSize","RADIUS","SOLARSYSTEMNAME","console","log","react_default","a","createElement","position","attach","args","jumpMaterial","jumpInterregionMaterial","Jump","start","end","geometry","vertices","push","REGIONID","StarMapJumps","solarSystemsById","jumps","map","jump","index","key","OrbitControlsComponent","target","_ref$damping","damping","_ref$minAzimuthAngle","minAzimuthAngle","Infinity","_ref$maxAzimuthAngle","maxAzimuthAngle","_ref$autoRotateSpeed","autoRotateSpeed","_ref$enablePan","enablePan","_ref$enableRotate","enableRotate","_ref$enableZoom","enableZoom","_ref$zoomSpeed","zoomSpeed","_useThree","useThree","canvas","camera","controls","ThreeOrbitControls","useEffect","dispose","autoRotate","update","useRender","_ref$color","scene","gl","setPixelRatio","window","devicePixelRatio","background","Color","DEFAULT_CAMERA_FOCUS","Tree","selectedSolarSystem","solarSystems","onSolarSystemClick","children","innerWidth","innerHeight","set","lookAt","solarSystemComponents","orbitControlsComponent","dist","Background_OrbitControlsComponent","StarMapSearch","_useState","useState","_useState2","Object","slicedToArray","searchInput","setSearchInput","results","filter","includes","length","onChange","value","slice","result","SOLARSYSTEMID","SolarSystemDetails","jumpsForSolarSystem","Math","round","SECURITY","LUMINOSITY","SUNTYPEID","destination","find","id","cosmicMultiplier","SolarSystem","jsonData","constellation","_this","this","classCallCheck","keys","forEach","Vector3","X","Y","Z","security","solarSystemsWithPositions","reduce","byId","con","ReactDOM","render","selectSolarSystem","useCallback","Fragment","style","top","left","document","getElementById"],"mappings":"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","file":"static/js/main.24af54af.chunk.js","sourcesContent":["import React, { useMemo } from 'react';\r\nimport * as THREE from 'three';\r\nimport { TetrahedronGeometry } from 'three';\r\n\r\nfunction getColorForSecurityStatus(security) {\r\n}\r\n\r\nexport default function Star ({\r\n\t// Required\r\n\tsolarSystem,\r\n\r\n\t// Not required\r\n\tisInvaded,\r\n\r\n\t// Not required\r\n\tonClick\r\n}) {\r\n\tconst securityColor = solarSystem.getColor();\r\n\tconst material = useMemo(() => new THREE.MeshBasicMaterial({\r\n\t\twireframe: true,\r\n\t\tcolor: solarSystem.hasIncursion ? 'blue' : securityColor,\r\n\t\topacity: 1\r\n\t}), [securityColor]);\r\n\r\n\tconst onMeshClick = onClick ? (event) => {\r\n\t\tonClick(event, solarSystem);\r\n\t\tevent.stopPropagation();\r\n\t } : null\r\n\r\n\tconst boxSize = 0.8 * solarSystem.RADIUS/1e12 + (solarSystem.hasIncursion ? 3 : 0);\r\n\r\n\tif(solarSystem.SOLARSYSTEMNAME === 'Onuse')\r\n\t\tconsole.log('Star', solarSystem, solarSystem.hasIncursion);\r\n\r\n\treturn <group>\r\n\t\t<mesh\r\n\t\t\tonClick={onMeshClick}\r\n\t\t\tposition={solarSystem.position}\r\n\t\t\tmaterial={material}\r\n\t\t>\r\n\t\t\t{\r\n\t\t\t\tsolarSystem.hasIncursion ?\r\n\t\t\t\t\t<tetrahedronBufferGeometry attach=\"geometry\" args={[boxSize]} /> :\r\n\t\t\t\t\t<boxBufferGeometry attach=\"geometry\" args={[boxSize, boxSize, boxSize]} />\r\n\t\t\t}\r\n\t\t</mesh>\r\n\t</group>\r\n}","import React from 'react';\r\nimport * as THREE from 'three';\r\n\r\nconst jumpMaterial = new THREE.LineBasicMaterial({\r\n\twireframe: true,\r\n\tcolor: 'black',\r\n\topacity: 0.1\r\n});\r\nconst jumpInterregionMaterial = new THREE.LineBasicMaterial({\r\n\twireframe: true,\r\n\tcolor: 'blue',\r\n\topacity: 0.5\r\n});\r\nexport default function Jump ({ start, end }) {\r\n\tconst geometry = new THREE.Geometry();\r\n\tgeometry.vertices.push(start.position);\r\n\tgeometry.vertices.push(end.position);\r\n\r\n\treturn <group><line geometry={geometry} material={ start.REGIONID !== end.REGIONID ? jumpInterregionMaterial : jumpMaterial } /></group>;\r\n}","import React, { useMemo } from 'react';\r\nimport * as THREE from 'three';\r\n\r\nimport Jump from './Jump';\r\n\r\nexport default function StarMapJumps({ solarSystemsById, jumps }) {\r\n\treturn useMemo(() => jumps.map((jump, index) => (\r\n\t\t\t<Jump start={solarSystemsById[jump[0]]} end={solarSystemsById[jump[1]]} key={index} />\r\n\t\t)), []);\r\n}\r\n","import { useEffect, useMemo } from 'react';\r\nimport ThreeOrbitControls from 'three-orbitcontrols';\r\nimport {\r\n\tuseThree,\r\n\tuseRender\r\n} from 'react-three-fiber';\r\n\r\n\r\nexport default function OrbitControlsComponent ({\r\n\ttarget,\r\n\tdamping = 0.2,\r\n\tminAzimuthAngle = -Infinity,\r\n\tmaxAzimuthAngle = Infinity,\r\n\tautoRotateSpeed = false,\r\n\tenablePan = true,\r\n\tenableRotate = true,\r\n\tenableZoom = true,\r\n\tzoomSpeed = 0.5\r\n}) {\r\n\tconst {\r\n\t\tcanvas,\r\n\t\tcamera\r\n\t} = useThree();\r\n\r\n\tconst controls = useMemo(() => {\r\n\t\tconst controls = new ThreeOrbitControls(camera, canvas);\r\n\r\n\t\treturn controls;\r\n\t}, [\r\n\t\tcamera,\r\n\t\tcanvas]);\r\n\r\n\tuseEffect(() => {\r\n\t\t// scene.background = new Color(0x000000);\r\n\t\treturn () => {\r\n\t\t\tcontrols.dispose();\r\n\t\t}\r\n\t}, [controls]);\r\n\r\n\tcontrols.damping = damping;\r\n\tcontrols.minAzimuthAngle = minAzimuthAngle;\r\n\tcontrols.maxAzimuthAngle = maxAzimuthAngle;\r\n\tcontrols.enablePan = enablePan;\r\n\tcontrols.enableRotate = enableRotate;\r\n\tcontrols.enableZoom = enableZoom;\r\n\tcontrols.zoomSpeed = zoomSpeed;\r\n\r\n\t// controls.target = new Vector3(x,y,z)\r\n\r\n\tcontrols.autoRotate = !!autoRotateSpeed;\r\n\tcontrols.autoRotateSpeed = autoRotateSpeed;\r\n\r\n\tif (controls.target !== target) {\r\n\t\tcontrols.target = target;\r\n\t\tcontrols.update();\r\n\t}\r\n\r\n\tuseRender(() => {\r\n\t\tif (!controls) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (!!autoRotateSpeed) {\r\n\t\t\tcontrols.update();\r\n\t\t}\r\n\t});\r\n\r\n\treturn null;\r\n}\r\n","import { useEffect } from 'react';\r\nimport {\r\n\tColor\r\n} from 'three';\r\nimport {\r\n\tuseThree,\r\n\tuseRender\r\n} from 'react-three-fiber';\r\n\r\n\r\nexport default function OrbitControlsComponent ({\r\n\tcolor = 0x000000\r\n}) {\r\n\tconst {\r\n\t\tscene,\r\n\t\tgl\r\n\t} = useThree();\r\n\r\n\tuseEffect(() => {\r\n\t\tgl.setPixelRatio(window.devicePixelRatio ? window.devicePixelRatio : 1);\r\n\t\tscene.background = new Color(color);\r\n\t}, [color]);\r\n\r\n\treturn null;\r\n}\r\n","import React, { useMemo } from 'react';\r\nimport * as THREE from 'three';\r\n\r\nimport Star from './Star';\r\nimport StarMapJumps from './StarMapJumps';\r\nimport { Canvas } from 'react-three-fiber';\r\n\r\nimport OrbitControls from './compositions/OrbitControls';\r\nimport Background from './compositions/Background';\r\n\r\nconst DEFAULT_CAMERA_FOCUS = new THREE.Vector3(0, 0, 0);\r\nexport default function Tree({ selectedSolarSystem, solarSystems, solarSystemsById, jumps, onSolarSystemClick, children }) {\r\n\tconst camera = useMemo(() => {\r\n\t\tconsole.log('useMemo camera');\r\n\t\tconst camera = new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight, 1, 2000);\r\n\t\tcamera.position.set(0, 750, 0);\r\n\t\tcamera.lookAt(new THREE.Vector3(0, 0, 0));\r\n\t\treturn camera;\r\n\t}, []);\r\n\r\n\tconst solarSystemComponents = useMemo(() => {\r\n\t\tconsole.log('useMemo solarSystemComponents');\r\n\t\treturn solarSystems.map((solarSystem, index) => (\r\n\t\t\t<Star key={index} solarSystem={solarSystem} onClick={onSolarSystemClick} />\r\n\t\t));\r\n\t}, []);\r\n\r\n\tconst orbitControlsComponent = (\r\n\t\t<OrbitControls\r\n\t\t\ttarget={selectedSolarSystem ? selectedSolarSystem.position : DEFAULT_CAMERA_FOCUS}\r\n\t\t\tenablePan={true}\r\n\t\t\tenableRotate={true}\r\n\t\t\tenableZoom={true}\r\n\t\t\tautoRotateSpeed={0}\r\n\t\t\tzoomSpeed={10}\r\n\t\t/>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Canvas camera={camera}>\r\n\t\t\t{orbitControlsComponent}\r\n\t\t\t<Background color={0xfcfcfc} />\r\n\t\t\t{solarSystemComponents}\r\n\r\n\t\t\t<StarMapJumps\r\n\t\t\t\tsolarSystemsById={solarSystemsById}\r\n\t\t\t\tjumps={ jumps }\r\n\t\t\t/>\r\n\t\t</Canvas>\r\n\t);\r\n}\r\n","import React, { useState } from 'react';\r\n\r\nexport default function StarMapSearch({ selectedSolarSystem, solarSystems, onSolarSystemClick }) {\r\n\tconst [ searchInput, setSearchInput ] = useState('');\r\n\r\n\tconst results = searchInput\r\n\t\t? solarSystems.filter((solarSystem) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t(typeof solarSystem.SOLARSYSTEMNAME === 'string' &&\r\n\t\t\t\t\t\tsolarSystem.SOLARSYSTEMNAME.includes(searchInput))\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t: [];\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>STARMAP SEARCH ({results.length})</h1>\r\n\t\t\t<input onChange={(event) => setSearchInput(event.target.value)} value={searchInput} />\r\n\t\t\t<ul>\r\n\t\t\t\t{results\r\n\t\t\t\t\t.slice(0, 50).map((result) => (\r\n\t\t\t\t\t<li key={result.SOLARSYSTEMID}>\r\n\t\t\t\t\t\t<a onClick={() => onSolarSystemClick(null, result)}>{result.SOLARSYSTEMNAME}</a>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t))}\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useMemo } from 'react';\r\n\r\nexport default function SolarSystemDetails({ solarSystem, jumps, solarSystemsById, onSolarSystemClick }) {\r\n\tconst jumpsForSolarSystem = useMemo(\r\n\t\t() => (solarSystem ? jumps.filter((jump) => jump.includes(solarSystem.SOLARSYSTEMID)) : []),\r\n\t\t[ solarSystem ]\r\n\t);\r\n\r\n\tif (!solarSystem) {\r\n\t\treturn <p>No solar system selected</p>;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>\r\n\t\t\t\t{solarSystem.SOLARSYSTEMNAME} ({Math.round(100 * solarSystem.SECURITY) / 100})\r\n\t\t\t</h1>\r\n\r\n\t\t\t<table>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t<td>{solarSystem.SOLARSYSTEMID}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Security</th>\r\n\t\t\t\t\t\t<td>{solarSystem.SECURITY}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Luminosity</th>\r\n\t\t\t\t\t\t<td>{solarSystem.LUMINOSITY}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Sun type</th>\r\n\t\t\t\t\t\t<td>{solarSystem.SUNTYPEID}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Gates</th>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t{jumpsForSolarSystem.map((jump) => {\r\n\t\t\t\t\t\t\t\t\tconst destination =\r\n\t\t\t\t\t\t\t\t\t\tsolarSystemsById[jump.find((id) => id !== solarSystem.SOLARSYSTEMID)];\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<li key={destination.SOLARSYSTEMID}>\r\n\t\t\t\t\t\t\t\t\t\t\t<a onClick={() => onSolarSystemClick(null, destination)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{destination.SOLARSYSTEMNAME}\r\n\t\t\t\t\t\t\t\t\t\t\t</a>;\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t\t{solarSystem.hasIncursion && (\r\n\t\t\t\t<p>\r\n\t\t\t\t\t<b>Incursion alert</b>\r\n\t\t\t\t</p>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n","\r\nimport { Vector3 } from 'three';\r\n\r\nconst cosmicMultiplier = 1e-15;\r\n\r\nexport function getVector3 (constellation) {\r\n\treturn new Vector3(constellation.X * cosmicMultiplier, -constellation.Y * cosmicMultiplier, -constellation.Z * cosmicMultiplier)\r\n}\r\n\r\nexport default class SolarSystem {\r\n\tconstructor (jsonData) {\r\n\t\tObject.keys(jsonData).forEach(key => this[key] = jsonData[key]);\r\n\r\n\t\tthis.position = getVector3(jsonData);\r\n\t}\r\n\r\n\tgetColor () {\r\n\t\tconst security = this.SECURITY;\r\n\t\tif (security < 0.05) {\r\n\t\t\treturn 'red';\r\n\t\t}\r\n\t\tif (security < 0.15) {\r\n\t\t\treturn '#b12b04';\r\n\t\t}\r\n\t\tif (security < 0.25) {\r\n\t\t\treturn '#c43e04';\r\n\t\t}\r\n\t\tif (security < 0.35) {\r\n\t\t\treturn '#c45104';\r\n\t\t}\r\n\t\tif (security < 0.45) {\r\n\t\t\treturn '#b16405';\r\n\t\t}\r\n\t\tif (security < 0.55) {\r\n\t\t\treturn '#f0f000';\r\n\t\t}\r\n\t\tif (security < 0.65) {\r\n\t\t\treturn '#90f030';\r\n\t\t}\r\n\t\tif (security < 0.75) {\r\n\t\t\treturn '#00ef00';\r\n\t\t}\r\n\t\tif (security < 0.85) {\r\n\t\t\treturn '#00f048';\r\n\t\t}\r\n\t\tif (security < 0.95) {\r\n\t\t\treturn '#47efbf';\r\n\t\t}\r\n\t\treturn '#2fefef';\r\n\t}\r\n}","import React, { useState, useCallback } from 'react';\r\nimport StarMap from './StarMap';\r\nimport StarMapSearch from './StarMapSearch';\r\nimport SolarSystemDetails from './SolarSystemDetails';\r\n\r\nimport { solarSystems, jumps } from './data.json';\r\nimport SolarSystem from './classes/SolarSystem';\r\n\r\nconst solarSystemsWithPositions = solarSystems.map(solarSystem => new SolarSystem(solarSystem))\r\n\r\nconst solarSystemsById = solarSystemsWithPositions.reduce((byId, con) => {\r\n\tbyId[con.SOLARSYSTEMID] = con;\r\n\treturn byId;\r\n}, {});\r\n\r\nexport default function App () {\r\n\tconst [selectedSolarSystem, selectSolarSystem] = useState(null);\r\n\tconst onSolarSystemClick = useCallback((event, solarSystem) => selectSolarSystem(solarSystem), [selectSolarSystem]);\r\n\treturn <>\r\n\t\t<StarMap\r\n\t\t\tselectedSolarSystem={selectedSolarSystem}\r\n\t\t\tsolarSystems={ solarSystemsWithPositions }\r\n\t\t\tsolarSystemsById={solarSystemsById}\r\n\t\t\tjumps={ jumps }\r\n\t\t\tonSolarSystemClick={onSolarSystemClick}\r\n\t\t/>\r\n\t\t<div style={{ position: 'absolute', top: '30px', left: '30px' }}>\r\n\t\t\t<StarMapSearch\r\n\t\t\t\tselectedSolarSystem={selectedSolarSystem}\r\n\t\t\t\tsolarSystems={solarSystemsWithPositions}\r\n\t\t\t\tonSolarSystemClick={onSolarSystemClick}\r\n\t\t\t/>\r\n\t\t\t<SolarSystemDetails\r\n\t\t\t\tsolarSystem={selectedSolarSystem}\r\n\t\t\t\tsolarSystemsById={solarSystemsById}\r\n\t\t\t\tjumps={ jumps }\r\n\t\t\t\tonSolarSystemClick={onSolarSystemClick}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t</>\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n// import registerServiceWorker from './registerServiceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// registerServiceWorker();\n"],"sourceRoot":""}